@page "/battleship"

<h3>Battleship Game</h3>

<table>
    @for (int row = 0; row < 10; row++)
    {
        <tr>
            @for (int col = 0; col < 10; col++) 
            {
                <td class="@GetCellClass(row, col)" @onclick="() => OnCellClick(row, col)">
                    @GetCellContent(row, col)
                </td>
            }
        </tr>
    }
</table>

@code {
    // 0 = empty, 1 = ship, 2 = hit, 3 = miss
    int[,] grid = new int[10, 10];

    void OnCellClick(int row, int col) 
    {
        if (grid[row, col] == 1)
            grid[row, col] = 2; // hit
        else if (grid[row, col] == 0)
            grid[row, col] = 3; // miss
    }

    string GetCellClass(int row, int col) 
    {
        return grid[row, col] switch 
        {
            2 => "hit",
            3 => "miss",
            _ => ""
        };
    }

    string GetCellContent(int row, int col) 
    {
        return grid[row, col] switch 
        {
            2 => "X", // hit
            3 => "O", // miss
            _ => ""
        };
    }
}